var Bose=Bose||{};Bose.AccountWidget=function(){function a(){var a,c;0!==$jq(h.container).length&&(c=$jq(h.gigyaApiKey),c.length&&(a=c.val(),a&&Bose.CookieStore.get("glt_"+a)?Bose.DataLayer.Data.Page.userLoggedStatus="yes":b()),$jq(h.signIn).on("click",Bose.GigyaService.login),$jq(h.options).on("click",e),$jq(document).on("header.mobileMenuClosed",f),$jq(document).on("header.mobileMenuOpened",g),$jq(".bose-serviceBar2016").find(h.container).addClass(i.serviceBar),$jq(h.container).not(h.serviceBar).addClass(i.hamburger),$jq(document).on("userData.populated",Bose.AccountWidget.showNameInHeaderAndTopNavigation))}function b(){$jq(h.signIn).removeClass(i.hideBlock)}function c(a){Bose.UserData.init(a,"populateGlobalObj")}function d(){var a=$jq(h.options);Bose.UserData.PCD.firstName.length>15?a.text(Bose.UserData.PCD.firstName.substring(0,15)+"..."):a.text(Bose.UserData.PCD.firstName),a.removeClass(i.hideBlock),$jq(h.signIn).addClass(i.hideBlock),$jq(h.hamburger).find(h.menu).show()}function e(){Gridle.isActive("large")&&$jq(h.serviceBar).find(h.menu).toggle()}function f(){$jq(h.hamburger).hide()}function g(){$jq(h.serviceBar).find(h.menu).hide(),$jq(h.hamburger).show()}var h={container:".js-accountWidget",signIn:".js-accountWidget-signIn",options:".js-accountWidget-options",menu:".js-accountWidget-menu",serviceBar:".js-accountWidget-serviceBar",hamburger:".js-accountWidget-hamburger",gigyaApiKey:".gigya-api-key"},i={hamburgerOpen:"bose-accountWidget--hamburgerOpen",serviceBar:"bose-accountWidget--serviceBar js-accountWidget-serviceBar",hamburger:"js-accountWidget-hamburger",hideBlock:"bose-accountWidget_hideBlock"};return{init:a,_selector:h,_classes:i,onGigyaLogin:c,onMobileMenuOpened:g,onMobileMenuClosed:f,displayLoginButton:b,optionsClick:e,showNameInHeaderAndTopNavigation:d}}();
$jq(document).ready(function(){Bose.AccountWidget.init()});
